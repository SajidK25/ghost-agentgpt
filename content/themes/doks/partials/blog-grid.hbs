<div class="outer xl:outer-xl {{#page}} {{post_class}} {{/page}}">
    <div class="inner">

        {{!-- Hero section --}}
        {{#page}}
            {{> hero showContent="true"}}
        {{/page}}

        {{!-- Featured Posts --}}
        {{#get "posts" filter="featured:true+tags:hash-blog" include="tags" limit="4" as |posts| }}
            {{#if posts}}
                <div class="max-w-[1200px] mx-auto py-16 sm:py-20 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-10">
                    <div class="md:col-span-2 lg:col-span-3 text-gray-500 dark:text-gray-400">
                        {{t "Featured"}}
                    </div>                    
                    {{#foreach posts}}
                        <div class="{{post_class}} {{#if @last}} {{#match @number 4}} lg:hidden {{/match}} {{/if}}">
                            {{#if feature_image}}
                                <a href="{{url absolute="true"}}" class="block mb-2">
                                    <figure>
                                        <div class="relative rounded-md overflow-hidden bg-gray-50 dark:bg-gray-800 aspect-w-16 aspect-h-9
                                                after:absolute after:top-0 after:left-0 after:w-full after:h-full after:ring-1 after:ring-inset after:ring-gray-900/5 dark:after:ring-gray-50/5 after:rounded-md">
                                            <img
                                                class="lazyload !m-0 object-cover z-10 hover:scale-105"
                                                data-sizes="auto"
                                                data-srcset="{{> srcset }}"
                                                srcset="{{img_url feature_image size="xxs"}}"
                                                src="{{img_url feature_image size="xl"}}"
                                                alt="{{#if feature_image_alt}}{{feature_image_alt}}{{else}}{{title}}{{/if}}"
                                                loading="lazy"
                                            />
                                        </div>
                                    </figure>     
                                </a>
                            {{/if}}    
        
                            <h2>
                                <a class="font-semibold hover:opacity-80 text-gray-900 dark:text-gray-200" href="{{url absolute="true"}}">
                                    {{title}}
                                </a>
                            </h2>

                            <div class="mt-1 text-gray-500 dark:text-gray-400">
                                <time class="capitalize" datetime="{{date format="YYYY-MM-DD"}}">
                                    {{date format="MMMM DD, YYYY"}}
                                </time>
                                {{#foreach tags limit="1"}}
                                    <span> — </span>
                                    <a class="hover:opacity-80" href="{{url absolute="true"}}">
                                        {{name}}
                                    </a>
                                {{/foreach}}
                            </div>
                        </div>
                    {{/foreach}}
                </div>
            {{/if}}
        {{/get}}

        {{!-- Feed / Timeline --}}
        <div data-pagination-feed class="max-w-[1200px] mx-auto py-16 sm:py-20 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-10">
            <div class="md:col-span-2 lg:col-span-3 text-gray-500 dark:text-gray-400">
                {{t "Latest"}}
            </div>                      
            {{#foreach posts}}
                <div data-pagination-post class="{{post_class}}">
                    {{#if feature_image}}
                        <a href="{{url absolute="true"}}" class="group block mb-2">
                            <figure>
                                <div class="relative rounded-md overflow-hidden bg-gray-50 dark:bg-gray-800 aspect-w-16 aspect-h-9
                                        after:absolute after:top-0 after:left-0 after:w-full after:h-full after:ring-1 after:ring-inset after:ring-gray-900/5 dark:after:ring-gray-50/5 after:rounded-md">
                                    <img
                                        class="lazyload !m-0 object-cover z-10 hover:scale-105"
                                        data-sizes="auto"
                                        data-srcset="{{> srcset }}"
                                        srcset="{{img_url feature_image size="xxs"}}"
                                        src="{{img_url feature_image size="xl"}}"
                                        alt="{{#if feature_image_alt}}{{feature_image_alt}}{{else}}{{title}}{{/if}}"
                                        loading="lazy"
                                    />
                                </div>
                            </figure>     
                        </a>
                    {{/if}}    
 
                    <h2>
                        <a class="font-semibold hover:opacity-80 text-gray-900 dark:text-gray-200" href="{{url absolute="true"}}">
                            {{title}}
                        </a>
                    </h2>

                    <div class="mt-1 text-gray-500 dark:text-gray-400">
                        <time class="capitalize" datetime="{{date format="YYYY-MM-DD"}}">
                            {{date format="MMMM DD, YYYY"}}
                        </time>
                        {{#foreach tags limit="1"}}
                            <span> — </span>
                            <a class="hover:opacity-80" href="{{url absolute="true"}}">
                                {{name}}
                            </a>
                        {{/foreach}}
                    </div>
                </div>
            {{/foreach}}
        </div>

        {{#if pagination}}
            <div class="flex justify-center">
                <button 
                    data-pagination-btn
                    data-total-pages="{{pagination.pages}}"
                    class="group hidden text-sm font-semibold my-16 sm:my-20 hover:opacity-80 dark:text-gray-200">
                    <span class="flex items-center">
                        {{t "Load more"}}

                        {{> icons/arrow-sm-down class="w-4 h-4 ml-0.5 group-[.loading]:hidden"}}
                        {{> icons/loader class="w-4 h-4 ml-0.5 hidden group-[.loading]:inline"}}
                    </span>
                </button>
            </div>
        {{/if}}
    </div>
</div>